{% extends "@Products/layout.html.twig" %}

{% block title %}Lista Productos{% endblock title %}

{% block stylesheets %}
    {{ parent() }}
{% endblock stylesheets %}

{% block container %}
    <div class="modal" id="myModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title">Realmente desea eliminar El Producto</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-info btn-sm" data-dismiss="modal">Cancelar</button>
                    <a href="#" id="btnconfimar" class="btn btn-danger btn-sm">Aceptar</a>
                </div>
            </div>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col">
            <h2 class="text-center">Lista Productos</h2>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <a href="{{ path('products_add') }}" class="btn btn-info mb-3 mt-3">Crear</a>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <table class="table table-dark">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th>Código</th>
                        <th>Nombre</th>
                        <th>Descripción</th>
                        <th>Marca</th>
                        <th>Precio</th>
                        <th>Categoria</th>
                        <th>Editar</th>
                        <th>Eliminar</th>
                    </tr>
                </thead>
                <tbody>
                    {% for poduct in poducts %}
                        <tr>
                            <th scope="row">{{ loop.index0 }}</th>
                            <td>{{ poduct.code }}</td>
                            <td>{{ poduct.name }}</td>
                            <td>{{ poduct.description }}</td>
                            <td>{{ poduct.brand }}</td>
                            <td>{{ poduct.price }}</td>
                            <td>{{ poduct.idcategories.name }}</td>
                            <td><a href="{{ path('products_edit', {'id':poduct.idproduct}) }}" class="btn btn-warning btn-sm">Editar</a></td>
                            <td><a href="javascript:;" class="btn btn-danger btn-sm eliminar" url="{{ path('products_delete', {'id':poduct.idproduct}) }}">Eliminar</a></td>
                        </tr>
                    {% endfor %}                
                </tbody>
            </table>
        </div>
    </div>
{% endblock container %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/products.js') }}" type="text/javascript"></script>
{% endblock javascripts %}
